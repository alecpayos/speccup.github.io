{"ast":null,"code":"import _defineProperty from\"/home/alex/speccup.github.io/app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/alex/speccup.github.io/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/alex/speccup.github.io/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useMemo,useEffect}from'react';import{colors}from'../../components/globals';import countryList from'react-select-country-list';import{State,City}from'country-state-city';import FormButton from'./FormButtons';import rules from'./Rules';import{Col,Row,Typography,Form,DatePicker,Input,Select}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Option=Select.Option;var Title=Typography.Title;var SubscriptionInformation=function SubscriptionInformation(_ref){var onChange=_ref.onChange,render=_ref.render,memory=_ref.memory,xxl=_ref.xxl,style=_ref.style;useEffect(function(){setSubscriptionInfo(memory);},[memory]);var countryOptions=useMemo(function(){return countryList().getData();},[]);var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState=useState({cardHolder:null,cardNumber:null,cardExpiry:null,cardCode:null,zipCode:null,street:null}),_useState2=_slicedToArray(_useState,2),subscriptionInfo=_useState2[0],setSubscriptionInfo=_useState2[1];var handleCardHolder=function handleCardHolder(e){return setSubscriptionInfo(_objectSpread(_objectSpread({},subscriptionInfo),{},{cardHolder:e.target.value}));};var handleCardNumber=function handleCardNumber(e){return setSubscriptionInfo(_objectSpread(_objectSpread({},subscriptionInfo),{},{cardNumber:e.target.value}));};var handleCardExpiry=function handleCardExpiry(date){return setSubscriptionInfo(_objectSpread(_objectSpread({},subscriptionInfo),{},{cardExpiry:date}));};var handleCardCode=function handleCardCode(e){return setSubscriptionInfo(_objectSpread(_objectSpread({},subscriptionInfo),{},{cardCode:e.target.value}));};var handleZipCode=function handleZipCode(e){return setSubscriptionInfo(_objectSpread(_objectSpread({},subscriptionInfo),{},{zipCode:e.target.value}));};var handleStreet=function handleStreet(e){return setSubscriptionInfo(_objectSpread(_objectSpread({},subscriptionInfo),{},{street:e.target.value}));};var handleBack=function handleBack(){return render(1);};var handleSubmit=function handleSubmit(){onChange(subscriptionInfo);window.location('/register');};var addressValues={country:'',state:''};var _useState3=useState({'country':null,stateList:null,'state':null,cityList:null,'city':null}),_useState4=_slicedToArray(_useState3,2),address=_useState4[0],setAddress=_useState4[1];var AddressSelector=function AddressSelector(_ref2){var component=_ref2.component,componentValue=_ref2.componentValue,cscList=_ref2.cscList,placeholder=_ref2.placeholder;var handleCountry=function handleCountry(e){var _objectSpread2;setAddress(_objectSpread(_objectSpread({},address),{},(_objectSpread2={},_defineProperty(_objectSpread2,componentValue,e),_defineProperty(_objectSpread2,\"state\",null),_defineProperty(_objectSpread2,\"city\",null),_defineProperty(_objectSpread2,\"stateList\",State.getStatesOfCountry(e)),_objectSpread2)));};var handleState=function handleState(e){var _objectSpread3;setAddress(_objectSpread(_objectSpread({},address),{},(_objectSpread3={},_defineProperty(_objectSpread3,componentValue,e),_defineProperty(_objectSpread3,\"cityList\",City.getCitiesOfState(address.country,address.state)),_objectSpread3)));};var handleCity=function handleCity(e){setAddress(_objectSpread(_objectSpread({},address),{},_defineProperty({},componentValue,e)));};return/*#__PURE__*/_jsx(Select,{allowClear:true,showSearch:true,size:\"large\",value:[component],optionFilterProp:\"children\",placeholder:placeholder,filterOption:function filterOption(input,option){return option.children.toLowerCase().indexOf(input.toLowerCase())>=0;},onChange:placeholder===\"Country\"?handleCountry:null||placeholder===\"State\"?handleState:null||placeholder===\"City\"?handleCity:null,children:cscList&&cscList.map(function(options,index){var handleComponentValue={value:function value(){switch(placeholder){case\"Country\":addressValues.country=options.label;return options.value;case\"State\":addressValues.state=options.name;return options.isoCode;case\"City\":return options.name;default:return null;}},label:function label(){switch(placeholder){case\"Country\":return options.label;case\"State\":return options.name;case\"City\":return options.name;default:return null;}}};return/*#__PURE__*/_jsx(Option,{value:handleComponentValue.value(),children:handleComponentValue.label()},index);})});};return/*#__PURE__*/_jsx(Col,{xs:{span:22,offset:1},sm:{span:20,offset:2},md:{span:16,offset:4},lg:{span:12,offset:6},xl:{span:8,offset:8},xxl:xxl,style:style,children:/*#__PURE__*/_jsxs(Form,{form:form,onFinish:handleSubmit,initialValues:{'Name on card':memory.cardHolder,'Card number':memory.cardNumber,'Expiry':memory.cardExpiry,'CVC':memory.cardCode},children:[/*#__PURE__*/_jsx(Title,{level:3,style:{color:colors.textColor.primary,paddingTop:24},children:\"Subscription Information\"}),/*#__PURE__*/_jsxs(Row,{gutter:[16,0],children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Title,{level:5,style:{color:'#444'},children:\"PAYMENT DETAILS\"})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"Name on card\",rules:rules.subscriptionInformation[0],children:/*#__PURE__*/_jsx(Input,{onChange:handleCardHolder,size:\"large\",placeholder:\"Name on card\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"Card number\",rules:rules.subscriptionInformation[1],children:/*#__PURE__*/_jsx(Input,{onChange:handleCardNumber,size:\"large\",placeholder:\"Card number\"})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Form.Item,{name:\"Expiry\",rules:rules.subscriptionInformation[2],children:/*#__PURE__*/_jsx(DatePicker,{onChange:handleCardExpiry,format:\"MM/DD\",picker:\"date\",style:{width:'100%'},placeholder:\"Expiry\",size:\"large\"})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Form.Item,{name:\"CVC\",rules:rules.subscriptionInformation[3],children:/*#__PURE__*/_jsx(Input,{onChange:handleCardCode,size:\"large\",placeholder:\"CVC\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Title,{level:5,style:{color:'#444'},children:\"BILLING ADDRESS\"})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"Country\",children:/*#__PURE__*/_jsx(AddressSelector,{component:address.country,componentValue:'country',cscList:countryOptions,placeholder:\"Country\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"State\",children:/*#__PURE__*/_jsx(AddressSelector,{component:address.state,componentValue:'state',cscList:address.stateList,placeholder:\"State\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"City\",children:/*#__PURE__*/_jsx(AddressSelector,{component:address.city,componentValue:'city',cscList:address.cityList,placeholder:\"City\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"Zip code\",children:/*#__PURE__*/_jsx(Input,{onChange:handleZipCode,size:\"large\",placeholder:\"Zip code\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"Street\",children:/*#__PURE__*/_jsx(Input,{onChange:handleStreet,size:\"large\",placeholder:\"Street\"})})}),/*#__PURE__*/_jsx(FormButton,{name:\"Back\",span:4,offset:16,type:\"button\",handler:handleBack}),/*#__PURE__*/_jsx(FormButton,{name:\"Next\",span:4,type:\"submit\"})]})]})});};export default SubscriptionInformation;","map":{"version":3,"sources":["/home/alex/speccup.github.io/app/src/components/forms/SubsInfo.js"],"names":["useState","useMemo","useEffect","colors","countryList","State","City","FormButton","rules","Col","Row","Typography","Form","DatePicker","Input","Select","Option","Title","SubscriptionInformation","onChange","render","memory","xxl","style","setSubscriptionInfo","countryOptions","getData","useForm","form","cardHolder","cardNumber","cardExpiry","cardCode","zipCode","street","subscriptionInfo","handleCardHolder","e","target","value","handleCardNumber","handleCardExpiry","date","handleCardCode","handleZipCode","handleStreet","handleBack","handleSubmit","window","location","addressValues","country","state","stateList","cityList","address","setAddress","AddressSelector","component","componentValue","cscList","placeholder","handleCountry","getStatesOfCountry","handleState","getCitiesOfState","handleCity","input","option","children","toLowerCase","indexOf","map","options","index","handleComponentValue","label","name","isoCode","span","offset","color","textColor","primary","paddingTop","subscriptionInformation","width","city"],"mappings":"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","sourcesContent":["import { useState, useMemo, useEffect } from 'react'\r\nimport { colors } from '../../components/globals'\r\nimport countryList from 'react-select-country-list'\r\nimport { State, City } from 'country-state-city'\r\nimport FormButton from './FormButtons'\r\nimport rules from './Rules'\r\n\r\nimport { \r\n  Col, \r\n  Row, \r\n  Typography, \r\n  Form, \r\n  DatePicker, \r\n  Input, \r\n  Select \r\n} from 'antd'\r\n\r\nconst { Option } = Select\r\nconst { Title } = Typography\r\n\r\nconst SubscriptionInformation = ({ onChange, render, memory, xxl, style }) => {\r\n  useEffect(() => {\r\n      setSubscriptionInfo(memory)\r\n  }, [memory])\r\n\r\n  const countryOptions = useMemo(() => countryList().getData(), [])\r\n  const [ form ] = Form.useForm()\r\n  const [ subscriptionInfo, setSubscriptionInfo ] = useState({\r\n    cardHolder: null,\r\n    cardNumber: null,\r\n    cardExpiry: null,\r\n    cardCode: null,\r\n    zipCode: null,\r\n    street: null,\r\n  })\r\n\r\n  const handleCardHolder = e => setSubscriptionInfo({ ...subscriptionInfo, cardHolder: e.target.value})\r\n  const handleCardNumber = e => setSubscriptionInfo({ ...subscriptionInfo, cardNumber: e.target.value})\r\n  const handleCardExpiry = date => setSubscriptionInfo({ ...subscriptionInfo, cardExpiry: date })\r\n  const handleCardCode = e => setSubscriptionInfo({ ...subscriptionInfo, cardCode: e.target.value})\r\n  const handleZipCode = e => setSubscriptionInfo({ ...subscriptionInfo, zipCode: e.target.value })\r\n  const handleStreet = e => setSubscriptionInfo({ ...subscriptionInfo, street: e.target.value })\r\n  const handleBack = () => render(1)\r\n  const handleSubmit = () => { onChange(subscriptionInfo); window.location('/register') }\r\n  const addressValues = { country: '', state: '' }\r\n\r\n  const [ address, setAddress ] = useState({\r\n    'country': null,\r\n    stateList: null,\r\n    'state': null,\r\n    cityList: null,\r\n    'city': null\r\n  })\r\n\r\n  const AddressSelector = ({ component, componentValue,  cscList, placeholder }) => {\r\n    const handleCountry = (e) => {\r\n      setAddress({ \r\n        ...address,  \r\n        [componentValue]: e, \r\n        state: null,\r\n        city: null,\r\n        stateList: State.getStatesOfCountry(e)\r\n      })\r\n    }\r\n\r\n    const handleState = (e) => {\r\n      setAddress({\r\n        ...address,\r\n        [componentValue]: e,\r\n        cityList: City.getCitiesOfState(address.country, address.state)\r\n      })\r\n    }\r\n\r\n    const handleCity = (e) => {\r\n      setAddress({\r\n        ...address,\r\n        [componentValue]: e\r\n      })\r\n    }\r\n\r\n    return (\r\n      <Select\r\n        allowClear\r\n        showSearch\r\n        size='large'\r\n        value={[component]}\r\n        optionFilterProp=\"children\"\r\n        placeholder={placeholder}\r\n        filterOption={\r\n          (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n        onChange={(\r\n          placeholder === \"Country\" ? handleCountry : null || \r\n          placeholder === \"State\" ? handleState : null ||\r\n          placeholder === \"City\" ? handleCity : null\r\n        )}\r\n      >\r\n        {cscList && cscList.map((options, index) => {\r\n          const handleComponentValue = {\r\n            value() {\r\n              switch(placeholder) {\r\n                case \"Country\":\r\n                  addressValues.country = options.label\r\n                  return options.value\r\n                case \"State\":\r\n                  addressValues.state = options.name\r\n                  return options.isoCode\r\n                case \"City\":\r\n                  return options.name\r\n                default:\r\n                  return null\r\n              }\r\n            },\r\n            label() {\r\n              switch(placeholder) {\r\n                case \"Country\":\r\n                  return options.label\r\n                case \"State\":\r\n                  return options.name\r\n                case \"City\":\r\n                  return options.name\r\n                default:\r\n                  return null\r\n              }\r\n            }\r\n          }\r\n\r\n          return (\r\n            <Option key={index} value={handleComponentValue.value()}>\r\n              {handleComponentValue.label()}\r\n            </Option>\r\n          )\r\n        })}\r\n      </Select>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Col\r\n      xs={{ span: 22, offset: 1 }}\r\n      sm={{ span: 20, offset: 2 }}\r\n      md={{ span: 16, offset: 4 }}\r\n      lg={{ span: 12, offset: 6 }}\r\n      xl={{ span: 8, offset: 8 }}\r\n      xxl={xxl}\r\n      style={style}\r\n    >\r\n      <Form \r\n        form={form} \r\n        onFinish={handleSubmit}\r\n        initialValues={{\r\n          'Name on card': memory.cardHolder,\r\n          'Card number': memory.cardNumber,\r\n          'Expiry': memory.cardExpiry,\r\n          'CVC': memory.cardCode\r\n        }}\r\n      >\r\n\r\n        <Title level={3} style={{ color: colors.textColor.primary, paddingTop: 24 }}>\r\n          Subscription Information\r\n        </Title>\r\n\r\n        <Row gutter={[16, 0]}>\r\n            \r\n          <Col span={24}>\r\n            <Title level={5} style={{ color: '#444' }}>\r\n              PAYMENT DETAILS\r\n            </Title>\r\n          </Col>\r\n\r\n          <Col span={24}>\r\n            <Form.Item name='Name on card' rules={ rules.subscriptionInformation[0] }>\r\n              <Input onChange={handleCardHolder} size='large' placeholder='Name on card' />\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col span={12}>\r\n            <Form.Item name='Card number' rules={ rules.subscriptionInformation[1] }>\r\n                <Input onChange={handleCardNumber} size='large' placeholder='Card number' />\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col span={6}>\r\n            <Form.Item name='Expiry' rules={ rules.subscriptionInformation[2] }>\r\n              <DatePicker \r\n                onChange={handleCardExpiry}\r\n                format='MM/DD'\r\n                picker='date' \r\n                style={{ width: '100%' }} \r\n                placeholder='Expiry' \r\n                size='large' \r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col span={6}>\r\n            <Form.Item name='CVC' rules={ rules.subscriptionInformation[3] }>\r\n              <Input onChange={handleCardCode} size='large' placeholder='CVC' />\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col span={24}>\r\n            <Title level={5} style={{ color: '#444' }}>\r\n              BILLING ADDRESS\r\n            </Title>\r\n          </Col>\r\n\r\n          <Col span={12}>\r\n            <Form.Item name='Country'>\r\n              <AddressSelector component={address.country} componentValue={'country'} cscList={countryOptions} placeholder=\"Country\" />\r\n            </Form.Item> \r\n          </Col>\r\n\r\n          <Col span={12}>\r\n            <Form.Item name='State'>\r\n              <AddressSelector component={address.state} componentValue={'state'} cscList={address.stateList} placeholder=\"State\" />\r\n            </Form.Item> \r\n          </Col>\r\n\r\n          <Col span={12}>\r\n            <Form.Item name='City'>\r\n              <AddressSelector component={address.city} componentValue={'city'} cscList={address.cityList} placeholder=\"City\" />\r\n            </Form.Item> \r\n          </Col>\r\n\r\n          <Col span={12}>\r\n            <Form.Item name='Zip code'>\r\n              <Input onChange={handleZipCode} size='large' placeholder='Zip code' />    \r\n            </Form.Item> \r\n          </Col>\r\n\r\n          <Col span={24}>\r\n            <Form.Item name='Street'>\r\n              <Input onChange={handleStreet} size='large' placeholder='Street' />    \r\n            </Form.Item> \r\n          </Col>\r\n\r\n          <FormButton \r\n            name='Back' \r\n            span={4} \r\n            offset={16} \r\n            type='button'\r\n            handler={handleBack}\r\n          />\r\n\r\n          <FormButton \r\n            name='Next' \r\n            span={4} \r\n            type='submit'\r\n          />\r\n        </Row>\r\n      </Form>\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default SubscriptionInformation"]},"metadata":{},"sourceType":"module"}